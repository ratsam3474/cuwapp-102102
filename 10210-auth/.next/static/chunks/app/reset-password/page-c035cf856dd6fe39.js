(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{15761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(95155),l=r(12115),n=r(27016),a=r(51088),i=r(35695);function o(){let[e,t]=(0,l.useState)(""),[r,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(null),{isSignedIn:c}=(0,n.d)(),{signIn:m}=(0,a.go)();(0,i.useRouter)();let{signOut:b}=(0,a.ho)(),g=async r=>{r.preventDefault(),o(!0),u(null);try{c&&await b(),await (null==m?void 0:m.create({strategy:"reset_password_email_code",identifier:e})),u({type:"success",text:"Password reset email sent! Check your inbox for instructions."}),t("")}catch(e){var s,l;console.error("Password reset error:",e),u({type:"error",text:(null==(l=e.errors)||null==(s=l[0])?void 0:s.message)||"Failed to send reset email. Please try again."})}finally{o(!1)}},x=async()=>{if(!e)return void u({type:"error",text:"Please enter your email address first."});o(!0),u(null);try{await (null==m?void 0:m.create({strategy:"email_link",identifier:e,redirectUrl:"".concat(window.location.origin,"/auth-callback")})),u({type:"success",text:"Magic link sent! Check your email to sign in."})}catch(e){var t,r;console.error("Magic link error:",e),u({type:"error",text:(null==(r=e.errors)||null==(t=r[0])?void 0:t.message)||"Failed to send magic link. Please try again."})}finally{o(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100",children:(0,s.jsx)("div",{className:"w-full max-w-md p-8",children:(0,s.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-8 border border-gray-100",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Enter your email to receive reset instructions"})]}),c&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-blue-50 text-blue-800 border border-blue-200",children:(0,s.jsxs)("p",{className:"text-sm",children:["You're currently signed in. You can also"," ",(0,s.jsx)("a",{href:"/user-profile",className:"font-semibold underline",children:"manage your password in your profile"}),"."]})}),d&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg ".concat("success"===d.type?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:d.text}),(0,s.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 focus:bg-white focus:border-green-500 transition-all duration-200",placeholder:"your@email.com",required:!0,disabled:r})]}),(0,s.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Sending...":"Send Reset Email"})]}),(0,s.jsxs)("div",{className:"relative my-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),(0,s.jsxs)("button",{onClick:x,disabled:r||!e,className:"w-full bg-white border-2 border-gray-200 hover:bg-gray-50 text-gray-700 font-medium py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)("i",{className:"bi bi-envelope me-2"}),"Sign in with Magic Link"]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("a",{href:"/sign-in",className:"text-green-600 hover:text-green-700 font-medium transition-colors duration-200",children:"Back to Sign In"})})]})})})}},27016:(e,t,r)=>{"use strict";r.d(t,{PromisifiedAuthProvider:()=>o,d:()=>d});var s=r(51088),l=r(38572),n=r(35583),a=r(12115);let i=a.createContext(null);function o(e){let{authPromise:t,children:r}=e;return a.createElement(i.Provider,{value:t},r)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.useRouter)(),r=a.useContext(i),o=r;return(r&&"then"in r&&(o=a.use(r)),"undefined"!=typeof window)?(0,s.As)({...o,...e}):t?(0,s.As)(e):(0,l.hP)({...o,...e})}},35583:(e,t,r)=>{e.exports=r(63950)},38572:(e,t,r)=>{"use strict";r.d(t,{T5:()=>l.T5,hP:()=>s.hP,nO:()=>l.nO,yC:()=>n}),r(84089);var s=r(15359),l=r(7827);function n(e,t,r){let l=t.path||(null==r?void 0:r.path);return"path"===(t.routing||(null==r?void 0:r.routing)||"path")?l?{...r,...t,routing:"path"}:s.sb.throw((0,s.kd)(e)):t.path?s.sb.throw((0,s.s7)(e)):{...r,...t,path:void 0}}},63950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return n}});let s=r(12115),l=r(70901);function n(){return(0,s.useContext)(l.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(88229)._(r(12115)).default.createContext(null)},89649:(e,t,r)=>{Promise.resolve().then(r.bind(r,15761))}},e=>{var t=t=>e(e.s=t);e.O(0,[542,441,684,358],()=>t(89649)),_N_E=e.O()}]);