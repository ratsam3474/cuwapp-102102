(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{7999:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var a=r(95155),t=r(12115),l=r(51088),i=r(35695);function n(){let[e,s]=(0,t.useState)(""),[r,n]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),{signIn:o,isLoaded:m}=(0,l.go)();(0,i.useRouter)();let x=async s=>{if(s.preventDefault(),m&&o){n(!0);try{let s=await o.create({identifier:e,strategy:"email_link",redirectUrl:"".concat(window.location.origin,"/auth-callback")});"needs_first_factor"===s.status&&d(!0)}catch(e){var r,a;console.error("Error sending magic link:",e),alert((null==(a=e.errors)||null==(r=a[0])?void 0:r.message)||"Failed to send magic link")}finally{n(!1)}}};return c?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100",children:(0,a.jsx)("div",{className:"w-full max-w-md p-8",children:(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-8 border border-gray-100 text-center",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email!"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["We've sent a magic link to ",(0,a.jsx)("strong",{children:e})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Click the link in your email to sign in to CuWhapp. The link will expire in 10 minutes."})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,a.jsx)("button",{onClick:()=>d(!1),className:"w-full text-green-600 hover:text-green-700 font-medium",children:"Use a different email"}),(0,a.jsx)("a",{href:"/sign-in",className:"block w-full text-gray-600 hover:text-gray-700",children:"Sign in with password instead"})]})]})})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-green-100",children:(0,a.jsxs)("div",{className:"w-full max-w-md p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign In with Magic Link"}),(0,a.jsx)("p",{className:"text-gray-600",children:"No password needed - we'll email you a secure link"})]}),(0,a.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl p-8 border border-gray-100",children:[(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg px-4 py-3 focus:bg-white focus:border-green-500 transition-all duration-200",placeholder:"your@email.com",required:!0,disabled:r})]}),(0,a.jsx)("button",{type:"submit",disabled:r||!e,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Magic Link"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("a",{href:"/sign-in",className:"block w-full text-center bg-white border-2 border-gray-200 hover:bg-gray-50 text-gray-700 font-medium py-3 rounded-lg transition-all duration-200",children:"Sign in with password"}),(0,a.jsx)("a",{href:"/sign-up",className:"block w-full text-center text-green-600 hover:text-green-700 font-medium",children:"Don't have an account? Sign up"})]})]})]})})}},84155:(e,s,r)=>{Promise.resolve().then(r.bind(r,7999))}},e=>{var s=s=>e(e.s=s);e.O(0,[542,441,684,358],()=>s(84155)),_N_E=e.O()}]);